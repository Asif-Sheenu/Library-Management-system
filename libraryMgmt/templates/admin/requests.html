{% extends "base.html" %}

{% block content %}
<div class="p-10">
    <h2 class="text-3xl font-bold mb-6">My Book Requests</h2>

    {% if requests %}
    <table class="w-full border rounded-xl">
        <thead class="bg-gray-100">
            <tr>
                <th class="p-3 text-left">Book</th>
                <th class="p-3 text-left">Status</th>
                <th class="p-3 text-left">Requested On</th>
            </tr>
        </thead>

        <tbody>
            {% for req in requests %}
            <tr class="border-b hover:bg-gray-50 transition">
                <td class="p-3 font-medium">{{ req.book.title }}</td>
                <td class="p-3">
                    {% if req.status == "PENDING" %}
                        <span class="text-yellow-600 font-semibold">{{ req.status }}</span>
                    {% elif req.status == "APPROVED" %}
                        <span class="text-green-600 font-semibold">{{ req.status }}</span>
                    {% else %}
                        <span class="text-red-600 font-semibold">{{ req.status }}</span>
                    {% endif %}
                </td>
                <td class="p-3">{{ req.created_at|date:"d M Y H:i" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p class="text-gray-500 mt-4">You have no book requests yet.</p>
    {% endif %}
</div>
{% endblock %}
